Установка
=========

Требования
##########

Для успешной установки TravelCRM необходимо установить Python версии 2.7. 
Возможна установка на Python 2.6, но она потребует некоторых навыков 
программирования на Python.
Подробнее об установке Python на свой компьютер можно ознакомиться в 
`официальной документации Python <https://docs.python.org/2/using/index.html>`_.

PostgreSQL 9.*, для более ранних версий не тестировалось.

.. note::
   Автор тестировал TravelCRM на Linux Fedora Core, Python 2.7 и
   Centos 5, Python 2.6; PostgreSQL 9.1 и PostgreSQL 9.3
   На Windows не тестировалось.
   
Установка на Unix/Linux
#######################
Самым лучшим методом установки TravelCRM является установка в виртуальной
среде Python, что обеспечивает локальную независимость пакетов Python от 
любых, глобально установленных системных пакетов Python. 
 
Это может быть сделано с помощью пакета virtualenv . 
Использование virtualenv также поможет избежать глобальной установки TravelCRM и 
всех необходимых для его работы пакетов, что исключает риски повреждения системной 
установки Python.

Чтобы настроить virtualenv в которую будет установлен TravelCRM, 
сначала убедитесь, что установлен пакет setuptools. Самый простой способ - это 
выполнить команду импорта setuptools::

   $ python2.7 -c 'import setuptools'

Если результатом этой комманды будет пустая строка, то setuptools уже установлен,
если же будет получен результат вида::

   Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
   ImportError: No module named setuptools

то необходимо установить setuptools вручную

Ручная установка setuptools
###########################
Для установки setuptools руками, скачайте ez_setup.py и запустите его, используя
установленный интерпретатор Python::

   $ python ez_setup.py

Эта комманда выполнит установку setuptools на компьютер в глобальную установку Python.
Если во время выполнения возникнет ошибка доступа, то используйте комманду::

   $ sudo python ez_setup.py

или выполните установку как пользователь root.

Установка virtualenv
####################
После установки setuptools, необходимо установить пакет virtualenv. Для этого
достаточно запустить комманду установки::

   $ easy_install virtualenv

Если во время установки поизошли ошибки доступа, попробуйте использовать::

   $ sudo easy_install virtualenv

или повторить установку как пользователь root.

Создание виртуальной среды
##########################
После успешной установки virtualenv можно создавать виртуальную среду Python.
Прежде всего создайте директорию, в которую хотите разместить свою уставку 
TravelCRM::

   mkdir ~/Projects/virtenv

создаем в этой директории виртуальную установку Python::

   virtualenv --no-site-packages ~/Projects/virtenv

.. note::
   Опция --no-site-packages обеспечивает полную изоляцию вашей виртуальной среды
   от глобальной установки Python

Установка TravelCRM в виртуальную среду
#######################################

Прежде всего нужно `скачать TravelCRM <https://bitbucket.org/mazvv/travelcrm/downloads>`_ 
и распаковать в директории с вашей виртуальной средой::

   cd ~/Projects/virtenv
   wget https://bitbucket.org/mazvv/travelcrm/downloads/travelcrm-0.6-dev.tar.gz
   tar -xzvf travelcrm-0.6-dev.tar.gz``

Для установки выполните комманду::

   ./bin/python ./travelcrm-0.6-dev/setup.py develop

Комманда установки автоматически установит все зависимые пакеты.


